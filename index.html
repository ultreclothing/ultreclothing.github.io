<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ultre</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
  <!-- Tailwind CSS via CDN -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="css/styles.css">
  </head>
  <body class="bg-neutral-950 text-gray-200 font-quicksand">
  <header class="w-full bg-neutral-950 border-b border-gray-800 shadow-md flex justify-end items-center px-6 py-3">
    <div class="flex items-center gap-3 profile-menu-container relative group">
      <img src="https://ui-avatars.com/api/?name=U&background=444444&color=fff&rounded=true&size=64" alt="Profile" class="profile-icon w-10 h-10 rounded-full cursor-pointer border-2 border-gray-700 group-hover:border-blue-500 transition-all duration-200" />
      <div class="profile-dropdown absolute right-0 top-12 bg-gray-900 border border-gray-800 rounded-lg shadow-lg py-2 px-4 min-w-[140px] hidden group-hover:flex flex-col z-50">
        <button id="open-auth-btn" class="dropdown-item open-auth-btn w-full text-left">Sign in</button>
        <button id="open-signup-btn" class="dropdown-item open-signup-btn w-full text-left">Sign up</button>
      </div>
    </div>
  </header>
  <!-- Compact Intro Section -->
  <section id="intro-section" class="flex flex-col items-center justify-center w-full py-12 bg-neutral-950">
    <img src="logo.png" alt="Ultre Logo" class="w-20 h-20 mb-4 rounded-xl shadow-lg">
  <h1 class="text-4xl md:text-6xl font-extrabold mb-2 tracking-tight text-white drop-shadow animate-popIn">Welcome to Ultre</h1>
  <p class="text-lg md:text-2xl text-gray-300 mb-4 text-center animate-fadeInUp">Discover minimalist streetwear, sustainable fabrics, and more.</p>
  <button id="scroll-down-btn" class="scroll-hint text-base md:text-lg px-4 py-2 rounded-full bg-black/40 text-white hover:bg-neutral-700 transition-all duration-300 mt-2 shadow-lg animate-fadeIn">Scroll to explore ↓</button>
  </section>

  <!-- Intro Section (full viewport, sticky, hero) -->


  <main id="main-website-content-wrapper" class="flex-1 max-w-6xl mx-auto px-4 py-8 w-full">

    <!-- Home Section -->
    <section id="home-main" class="active-page flex flex-col items-center justify-center min-h-[60vh] px-4 py-12 animate-fadeInUp">
      <div class="max-w-3xl w-full text-center">
        <h2 class="text-4xl font-extrabold mb-2 tracking-tight text-white animate-popIn">Discover Ultre</h2>
        <p class="text-lg text-gray-400 mb-6 animate-fadeIn">Your destination for premium, sustainable streetwear. Shop the latest drops, read our blog, and connect with the Ultre community.</p>
        <div class="flex flex-wrap justify-center gap-6 mt-8 animate-fadeIn">
          <div class="bg-neutral-900 rounded-2xl shadow-xl p-6 w-64 flex flex-col items-center hover:scale-105 transition-transform">
            <span class="fa-solid fa-tshirt text-3xl text-blue-400 mb-2"></span>
            <h3 class="font-bold text-xl mb-1">Shop</h3>
            <p class="text-gray-400 text-sm">Browse our curated collection of minimalist essentials.</p>
          </div>
          <div class="bg-neutral-900 rounded-2xl shadow-xl p-6 w-64 flex flex-col items-center hover:scale-105 transition-transform">
            <span class="fa-solid fa-users text-3xl text-green-400 mb-2"></span>
            <h3 class="font-bold text-xl mb-1">About Us</h3>
            <p class="text-gray-400 text-sm">Learn about our mission, values, and team.</p>
          </div>
          <div class="bg-neutral-900 rounded-2xl shadow-xl p-6 w-64 flex flex-col items-center hover:scale-105 transition-transform">
            <span class="fa-solid fa-blog text-3xl text-yellow-400 mb-2"></span>
            <h3 class="font-bold text-xl mb-1">Blog</h3>
            <p class="text-gray-400 text-sm">Read the latest news, style tips, and stories from Ultre.</p>
          </div>
        </div>
        <!-- Brand rating and recommended blogs -->
        <div class="mt-10 grid grid-cols-1 md:grid-cols-2 gap-6 w-full">
          <div class="bg-neutral-900 rounded-2xl p-6 shadow-lg flex flex-col items-start animate-popIn">
            <div class="flex items-center gap-4 mb-2">
              <div class="text-3xl text-yellow-400"><i class="fas fa-star"></i></div>
              <div>
                <div class="text-xl font-bold">4.8 <span class="text-gray-400 text-sm">/ 5</span></div>
                <div class="text-sm text-gray-400">Rated by 152 customers</div>
              </div>
            </div>
            <p class="text-gray-300">Customers love our fit and sustainable materials. See reviews and trending picks.</p>
          </div>
          <div class="bg-neutral-900 rounded-2xl p-6 shadow-lg animate-fadeInUp">
            <h4 class="text-lg font-bold mb-3">Recommended Reads</h4>
            <ul id="recommended-blogs" class="space-y-3 text-gray-300">
              <li class="flex items-center gap-3">
                <div class="w-12 h-12 rounded-md bg-gray-800 flex items-center justify-center animate-shimmer"><i class="fas fa-pen-nib text-blue-400"></i></div>
                <div>
                  <div class="font-semibold">How to build a capsule wardrobe</div>
                  <div class="text-sm text-gray-400">5 min read • 2 days ago</div>
                </div>
              </li>
              <li class="flex items-center gap-3">
                <div class="w-12 h-12 rounded-md bg-gray-800 flex items-center justify-center animate-shimmer"><i class="fas fa-seedling text-green-400"></i></div>
                <div>
                  <div class="font-semibold">Sustainable fabrics we love</div>
                  <div class="text-sm text-gray-400">7 min read • 1 week ago</div>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </section>
    

    <!-- Shop Section -->
  <section id="shop-main" class="hidden flex flex-col items-center justify-center min-h-[60vh] px-4 py-12 animate-fadeInUp">
      <h2 class="text-4xl font-extrabold mb-6 tracking-tight text-white animate-popIn">Shop</h2>
      <div id="items-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 w-full max-w-6xl animate-fadeIn"></div>
    </section>

    <!-- Item Detail Modal -->
    <div id="item-detail-modal" class="fixed inset-0 bg-black/80 flex items-center justify-center z-50 hidden">
      <div class="bg-neutral-950 rounded-3xl shadow-2xl p-10 max-w-xl w-full animate-fadeInUp border border-gray-800 relative flex flex-col items-center">
        <button id="close-item-detail" class="absolute top-4 right-4 text-gray-400 hover:text-white text-3xl font-bold">&times;</button>
        <img id="detail-image" src="" alt="" class="w-44 h-44 object-cover rounded-2xl mb-4 mx-auto animate-popIn border-4 border-gray-800 shadow-lg">
        <h3 id="detail-title" class="text-3xl font-extrabold mb-2 text-center text-white animate-popIn"></h3>
        <p id="detail-desc" class="text-lg text-gray-300 mb-4 text-center animate-fadeInUp"></p>
        <div class="text-2xl font-bold text-blue-400 text-center animate-fadeIn"><span id="detail-price"></span></div>
      </div>
    </div>

    <!-- Sign In/Sign Up Pages -->

    <!-- Sign In Page -->
    <section id="sign-in-main" class="hidden flex flex-col items-center justify-center min-h-[60vh] px-4 py-12 animate-fadeInUp">
      <div class="bg-gradient-to-br from-neutral-900 to-gray-800 rounded-3xl shadow-2xl p-8 w-full max-w-md flex flex-col items-center border border-gray-800 transform hover:-translate-y-1 transition-transform">
        <div class="w-16 h-16 rounded-full bg-gray-800 flex items-center justify-center mb-3 animate-popIn">
          <i class="fas fa-user-circle text-3xl text-blue-400"></i>
        </div>
        <h2 class="text-3xl font-extrabold mb-2 tracking-tight text-white animate-popIn">Sign In</h2>
        <p class="text-sm text-gray-400 mb-4">Welcome back — sign in to access your account and orders.</p>
        <form id="sign-in-form" class="flex flex-col gap-4 w-full animate-fadeIn">
          <div class="relative">
            <span class="absolute left-3 top-3 text-gray-400"><i class="fas fa-envelope"></i></span>
            <input type="email" id="signInEmail" name="email" class="pl-10 p-3 rounded-xl bg-gray-800 text-white border border-gray-700 w-full" placeholder="Email" required>
          </div>
          <div class="relative">
            <span class="absolute left-3 top-3 text-gray-400"><i class="fas fa-lock"></i></span>
            <input type="password" id="signInPassword" name="password" class="pl-10 p-3 rounded-xl bg-gray-800 text-white border border-gray-700 w-full" placeholder="Password" required>
          </div>
          <button type="submit" class="shop-button w-full py-3 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-bold text-lg transition-all">Sign In</button>
        </form>
        <p class="text-gray-400 mt-4 text-sm">Don't have an account? <a href="#" id="to-sign-up" class="text-blue-400 underline">Sign Up</a></p>
      </div>
    </section>

    <!-- Sign Up Page -->
    <section id="sign-up-main" class="hidden flex flex-col items-center justify-center min-h-[60vh] px-4 py-12 animate-fadeInUp">
      <div class="bg-gradient-to-br from-neutral-900 to-gray-800 rounded-3xl shadow-2xl p-8 w-full max-w-md flex flex-col items-center border border-gray-800 transform hover:-translate-y-1 transition-transform">
        <div class="w-16 h-16 rounded-full bg-gray-800 flex items-center justify-center mb-3 animate-popIn">
          <i class="fas fa-user-plus text-3xl text-green-400"></i>
        </div>
        <h2 class="text-3xl font-extrabold mb-2 tracking-tight text-white animate-popIn">Sign Up</h2>
        <p class="text-sm text-gray-400 mb-4">Create your Ultre account to save favorites and track orders.</p>
        <form id="sign-up-form" class="flex flex-col gap-4 w-full animate-fadeIn">
          <div class="relative">
            <span class="absolute left-3 top-3 text-gray-400"><i class="fas fa-user"></i></span>
            <input type="text" id="signUpName" name="name" class="pl-10 p-3 rounded-xl bg-gray-800 text-white border border-gray-700 w-full" placeholder="Name" required>
          </div>
          <div class="relative">
            <span class="absolute left-3 top-3 text-gray-400"><i class="fas fa-envelope"></i></span>
            <input type="email" id="signUpEmail" name="email" class="pl-10 p-3 rounded-xl bg-gray-800 text-white border border-gray-700 w-full" placeholder="Email" required>
          </div>
          <div class="relative">
            <span class="absolute left-3 top-3 text-gray-400"><i class="fas fa-lock"></i></span>
            <input type="password" id="signUpPassword" name="password" class="pl-10 p-3 rounded-xl bg-gray-800 text-white border border-gray-700 w-full" placeholder="Password" required>
          </div>
          <button type="submit" class="shop-button w-full py-3 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-bold text-lg transition-all">Sign Up</button>
        </form>
        <p class="text-gray-400 mt-4 text-sm">Already have an account? <a href="#" id="to-sign-in" class="text-blue-400 underline">Sign In</a></p>
      </div>
    </section>



    <!-- About Us Section -->
    <section id="about-us-main" class="hidden flex flex-col items-center justify-center min-h-[60vh] px-4 py-12 animate-fadeInUp">
      <div class="bg-gradient-to-br from-neutral-900 to-gray-800 rounded-3xl shadow-2xl p-12 w-full max-w-3xl flex flex-col items-center border border-gray-700">
        <h2 class="text-4xl font-extrabold mb-2 tracking-tight text-white drop-shadow animate-popIn">About Us</h2>
        <p class="text-lg text-gray-400 mb-4 text-center animate-fadeIn">We are Ultre, passionate about minimalist streetwear and sustainability. Our mission is to blend style, comfort, and responsibility in every piece we offer.</p>
      </div>
    </section>
    <!-- Blog Section -->
    <section id="blog-page" class="hidden flex flex-col items-center justify-center min-h-[60vh] px-4 py-12 animate-fadeInUp">
      <div class="bg-gradient-to-br from-neutral-900 to-gray-800 rounded-3xl shadow-2xl p-12 w-full max-w-3xl flex flex-col items-center border border-gray-700">
        <h2 class="text-4xl font-extrabold mb-2 tracking-tight text-white drop-shadow animate-popIn">Blog</h2>
        <p class="text-lg text-gray-400 mb-4 text-center animate-fadeIn">Stay tuned for the latest news, style tips, and stories from the Ultre community.</p>
      </div>
    </section>

    <!-- Support Section -->
    <section id="support-main" class="hidden flex flex-col items-center justify-center min-h-[60vh] px-4 py-12 animate-fadeInUp">
      <div class="bg-gradient-to-br from-neutral-900 to-gray-800 rounded-3xl shadow-2xl p-12 w-full max-w-2xl flex flex-col items-center border border-gray-700">
        <h2 class="text-4xl font-extrabold mb-2 tracking-tight text-white drop-shadow animate-popIn">Support</h2>
        <p class="text-lg text-gray-400 mb-4 text-center animate-fadeIn">Need help? Contact our support team at <a href="mailto:support@ultre.com" class="text-blue-400 underline">support@ultre.com</a>.</p>
      </div>
    </section>

    <!-- Cart Section -->
    <section id="cart-main" class="hidden flex flex-col items-center justify-center min-h-[60vh] px-4 py-12 animate-fadeInUp">
      <div class="bg-neutral-900 rounded-3xl shadow-2xl p-12 w-full max-w-2xl flex flex-col items-center border border-gray-800">
        <h2 class="text-4xl font-extrabold mb-2 tracking-tight text-white drop-shadow animate-popIn">Cart</h2>
        <div id="cart-content" class="w-full animate-fadeIn"></div>
      </div>
    </section>

    <!-- Settings Section (Categorized) -->
  <section id="settings-main" class="hidden flex flex-col items-center justify-center min-h-[60vh] px-4 py-12 animate-fadeInUp">
      <div class="bg-neutral-950 rounded-3xl shadow-2xl p-12 w-full max-w-2xl flex flex-col items-center border border-gray-800">
        <h2 class="text-4xl font-extrabold mb-6 tracking-tight text-white drop-shadow animate-popIn">Settings</h2>
        <form id="settings-form" class="flex flex-col gap-8 w-full mt-4">
          <div class="mb-4">
            <h3 class="text-lg font-bold text-gray-200 mb-2">General</h3>
            <div class="flex flex-col gap-4">
              <div>
                <label class="block text-gray-300 mb-1" for="displayName">Display Name</label>
                <input type="text" id="displayName" name="displayName" class="p-3 rounded-xl bg-gray-800 text-white border border-gray-700 w-full" placeholder="Your name">
              </div>
              <div>
                <label class="block text-gray-300 mb-1" for="email">Email</label>
                <input type="email" id="email" name="email" class="p-3 rounded-xl bg-gray-800 text-white border border-gray-700 w-full" placeholder="you@email.com">
              </div>
            </div>
          </div>
          <div class="mb-4">
            <h3 class="text-lg font-bold text-gray-200 mb-2">Accessibility</h3>
            <div class="flex flex-col gap-4">
              <div>
                <label class="block text-gray-300 mb-1" for="fontSize">Font Size</label>
                <select id="fontSize" name="fontSize" class="p-3 rounded-xl bg-gray-800 text-white border border-gray-700 w-full">
                  <option value="normal">Normal</option>
                  <option value="large">Large</option>
                  <option value="xlarge">Extra Large</option>
                </select>
              </div>
              <div>
                <label class="block text-gray-300 mb-1" for="highContrast">High Contrast Mode</label>
                <input type="checkbox" id="highContrast" name="highContrast" class="mr-2 align-middle">
              </div>
            </div>
          </div>
          <div class="mb-4">
            <h3 class="text-lg font-bold text-gray-200 mb-2">Visual</h3>
            <div class="flex flex-col gap-4">
              <div>
                <label class="block text-gray-300 mb-1" for="theme">Theme</label>
                <select id="theme" name="theme" class="p-3 rounded-xl bg-gray-800 text-white border border-gray-700 w-full">
                  <option value="dark">Dark</option>
                  <option value="light">Light</option>
                  <option value="system">System</option>
                </select>
              </div>
              <div>
                <label class="block text-gray-300 mb-1" for="accent">Accent Color</label>
                <input type="color" id="accent" name="accent" class="w-12 h-12 p-1 rounded-full border-2 border-gray-700 bg-gray-800">
              </div>
              <div>
                <label class="block text-gray-300 mb-1" for="avatar">Profile Picture</label>
                <input type="file" id="avatar" name="avatar" accept="image/*" class="block w-full text-gray-300" />
              </div>
            </div>
          </div>
          <button type="submit" class="shop-button w-full py-3 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-bold text-lg transition-all">Save Settings</button>
        </form>
      </div>
    </section>
  </main>

  <!-- Inline post viewer (controlled by js) -->
  <div id="inline-post-viewer" class="hidden fixed right-6 bottom-6 w-96 max-h-[70vh] overflow-auto bg-gray-900 border border-gray-800 rounded-lg p-4 z-50" aria-hidden="true">
    <div class="flex justify-between items-center mb-3">
      <strong>Article</strong>
      <button id="close-inline-post" class="shop-button">Close</button>
    </div>
    <div id="inline-post-content"></div>
  </div>

  <!-- Comparison modal -->
  <div id="product-comparison-modal" class="modal fixed inset-0 hidden items-center justify-center z-50" aria-hidden="true">
    <div class="bg-gray-900 border border-gray-800 rounded-lg p-4 w-11/12 max-w-6xl">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-bold">Product Comparison</h3>
        <button id="comparison-close-btn" class="shop-button">Close</button>
      </div>
      <div id="comparison-content" class="comparison-content"></div>
    </div>
  </div>

  <!-- Settings & Auth modals: content injected by js -->
  <div id="settings-modal" class="modal fixed inset-0 hidden items-center justify-center z-50" aria-hidden="true"></div>
  <div id="auth-modal" class="modal fixed inset-0 hidden items-center justify-center z-50" aria-hidden="true"></div>

  <!-- Generic containers used by js -->
  <div id="message-box" class="fixed left-4 bottom-6 z-60" aria-live="polite"></div>

  <!-- Bottom Taskbar -->
  <!-- Old Bottom Navigation Bar -->
  <nav id="bottom-nav" class="fixed bottom-0 left-0 w-full z-50 bg-black/80 backdrop-blur-md py-3 px-2 flex justify-center items-center">
    <ul class="flex gap-6 items-center relative">
  <li><a href="#home-main" class="nav-link flex flex-col items-center"><i class="fas fa-home text-xl mb-1"></i>Home</a></li>
  <li><a href="#shop-main" class="nav-link flex flex-col items-center"><i class="fas fa-tshirt text-xl mb-1"></i>Shop</a></li>
  <li><a href="#about-us-main" class="nav-link flex flex-col items-center"><i class="fas fa-users text-xl mb-1"></i>About Us</a></li>
  <li><a href="#blog-page" class="nav-link flex flex-col items-center"><i class="fas fa-blog text-xl mb-1"></i>Blog</a></li>
  <li><a href="#support-main" class="nav-link flex flex-col items-center"><i class="fas fa-headset text-xl mb-1"></i>Support</a></li>
  <li><a href="#settings-main" class="nav-link flex flex-col items-center"><i class="fas fa-cog text-xl mb-1"></i>Settings</a></li>
    </ul>
  <span id="nav-indicator" class="absolute transition-all duration-300 ease-in-out w-4 h-4 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full shadow-lg border-4 border-black/80 opacity-95" style="bottom: 8px; left: 0;"></span>
  </nav>
  <!-- Add missing sections for nav targets if not present -->


  <style>
    body, html { background: #0a0d14 !important; }
    .animate-fadeIn { animation: fadeIn 0.7s cubic-bezier(.4,0,.2,1) both; }
    .animate-fadeInUp { animation: fadeInUp 0.7s cubic-bezier(.4,0,.2,1) both; }
    .animate-popIn { animation: popIn 0.5s cubic-bezier(.4,0,.2,1) both; }
  .animate-shimmer { position: relative; overflow: hidden; }
  .animate-shimmer::after { content: ''; position: absolute; top:0; left:-100%; width:100%; height:100%; background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.06) 50%, rgba(255,255,255,0) 100%); animation: shimmer 1.6s infinite; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px);} to { opacity: 1; transform: translateY(0);} }
    @keyframes popIn { 0% { opacity: 0; transform: scale(0.7);} 80% { opacity: 1; transform: scale(1.08);} 100% { opacity: 1; transform: scale(1);} }
  @keyframes shimmer { 0% { left: -100%; } 50% { left: 100%; } 100% { left: 100%; } }
  </style>

  <!-- Link to external JavaScript -->
  <script src="js/app.js"></script>
  <script>
    // Microanimation helpers
    function animateIn(el, animation) {
      if (!el) return;
      el.classList.remove('animate-fadeIn', 'animate-fadeInUp', 'animate-popIn');
      void el.offsetWidth; // trigger reflow
      el.classList.add(animation);
    }

    // Shop items data (placeholder images)
    const shopItems = [
      { id: 1, name: 'Minimalist Hoodie', desc: 'A clean, soft hoodie for everyday wear.', price: 59, image: 'https://placehold.co/400x400/2b3440/ffffff?text=Hoodie' },
      { id: 2, name: 'Eco Joggers', desc: 'Sustainable joggers made from recycled fibers.', price: 49, image: 'https://placehold.co/400x400/2b3440/ffffff?text=Joggers' },
      { id: 3, name: 'Street Tee', desc: 'Classic fit, subtle branding, all-day comfort.', price: 29, image: 'https://placehold.co/400x400/2b3440/ffffff?text=Tee' },
      { id: 4, name: 'Utility Cap', desc: 'Water-resistant, adjustable, and stylish.', price: 19, image: 'https://placehold.co/400x400/2b3440/ffffff?text=Cap' }
    ];

    document.addEventListener('DOMContentLoaded', function() {
      // Hide intro and show home section on scroll or button click
      var btn = document.getElementById('scroll-down-btn');
      var intro = document.getElementById('intro-section');
      var home = document.getElementById('home-main');
      function hideIntro() {
        if (intro) intro.style.display = 'none';
        if (home) home.classList.add('active-page');
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
      if (btn) {
        btn.addEventListener('click', function(e) {
          e.preventDefault();
          hideIntro();
        });
      }
      // Also hide intro on manual scroll
      var scrolled = false;
      window.addEventListener('scroll', function() {
        if (!scrolled && window.scrollY > 40) {
          hideIntro();
          scrolled = true;
        }
      });

      // SPA-like navigation for bottom nav
      var navLinks = document.querySelectorAll('#bottom-nav .nav-link');
      var sections = [
        'home-main',
        'shop-main',
        'about-us-main',
        'blog-page',
        'support-main',
        'settings-main',
        'cart-main',
        'sign-in-main',
        'sign-up-main'
      ];
      function showSection(id) {
        sections.forEach(function(sec) {
          var el = document.getElementById(sec);
          if (el) el.classList.add('hidden');
        });
        var target = document.getElementById(id);
        if (target) target.classList.remove('hidden');
        // Remove active-page from all, add to target
        document.querySelectorAll('main > section').forEach(function(s) { s.classList.remove('active-page'); });
        if (target) target.classList.add('active-page');
        // Move nav indicator to active link
        var indicator = document.getElementById('nav-indicator');
        var activeLink = document.querySelector('#bottom-nav .nav-link.active-nav-link');
        if (activeLink) activeLink.classList.remove('active-nav-link');
        var newLink = document.querySelector('#bottom-nav .nav-link[href="#'+id+'"]');
        if (newLink && indicator) {
          newLink.classList.add('active-nav-link');
          var rect = newLink.getBoundingClientRect();
          var parentRect = newLink.parentElement.parentElement.getBoundingClientRect();
          indicator.style.left = (rect.left - parentRect.left + rect.width/2 - indicator.offsetWidth/2) + 'px';
          indicator.style.opacity = 1;
        }
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
      navLinks.forEach(function(link) {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          var id = link.getAttribute('href').replace('#','');
          hideIntro();
          showSection(id);
        });
      });
      // Set initial nav indicator
      setTimeout(function() {
        var activeLink = document.querySelector('#bottom-nav .nav-link[href="#home-main"]');
        var indicator = document.getElementById('nav-indicator');
        if (activeLink && indicator) {
          activeLink.classList.add('active-nav-link');
          var rect = activeLink.getBoundingClientRect();
          var parentRect = activeLink.parentElement.parentElement.getBoundingClientRect();
          indicator.style.left = (rect.left - parentRect.left + rect.width/2 - indicator.offsetWidth/2) + 'px';
          indicator.style.opacity = 1;
        }
      }, 200);

      // Profile dropdown menu: open sign in/up pages
      document.querySelectorAll('.open-auth-btn, .open-signin').forEach(function(btn) {
        btn.addEventListener('click', function(e) {
          e.preventDefault();
          showSection('sign-in-main');
        });
      });
      document.querySelectorAll('.open-signup-btn, .open-signup').forEach(function(btn) {
        btn.addEventListener('click', function(e) {
          e.preventDefault();
          showSection('sign-up-main');
        });
      });

      // Shop items rendering
      var itemsGrid = document.getElementById('items-grid');
      if (itemsGrid) {
        itemsGrid.innerHTML = '';
        shopItems.forEach(function(item, idx) {
          var card = document.createElement('div');
            card.className = 'bg-gray-800 rounded-lg shadow-lg p-4 flex flex-col items-center cursor-pointer hover:scale-105 transition-transform duration-300 animate-fadeInUp';
          card.style.animationDelay = (0.1 * idx) + 's';
          card.innerHTML = `
              <img src="${item.image}" alt="${item.name}" class="w-24 h-24 object-cover rounded mb-3 animate-popIn">
            <h3 class="text-lg font-bold mb-1 animate-fadeIn">${item.name}</h3>
            <div class="text-blue-400 font-semibold mb-2 animate-fadeIn">$${item.price}</div>
            <button class="shop-button view-detail-btn mt-2" data-id="${item.id}">View Details</button>
          `;
          // Microanimation
          animateIn(card, 'animate-fadeInUp');
          itemsGrid.appendChild(card);
        });
      }

        // Ensure recommended blogs list is populated (simple fallback)
        var rec = document.getElementById('recommended-blogs');
        if (rec && rec.children.length === 0) {
          rec.innerHTML = `
            <li class="flex items-center gap-3">
              <div class="w-12 h-12 rounded-md bg-gray-800 flex items-center justify-center animate-shimmer"><i class="fas fa-pen-nib text-blue-400"></i></div>
              <div>
                <div class="font-semibold">How to build a capsule wardrobe</div>
                <div class="text-sm text-gray-400">5 min read • 2 days ago</div>
              </div>
            </li>
            <li class="flex items-center gap-3">
              <div class="w-12 h-12 rounded-md bg-gray-800 flex items-center justify-center animate-shimmer"><i class="fas fa-seedling text-green-400"></i></div>
              <div>
                <div class="font-semibold">Sustainable fabrics we love</div>
                <div class="text-sm text-gray-400">7 min read • 1 week ago</div>
              </div>
            </li>
          `;
        }

      // Item detail modal logic
      document.body.addEventListener('click', function(e) {
        var btn = e.target.closest('.view-detail-btn');
        if (btn) {
          var id = parseInt(btn.dataset.id);
          var item = shopItems.find(i => i.id === id);
          if (!item) return;
          var modal = document.getElementById('item-detail-modal');
          if (!modal) return;
          document.getElementById('detail-image').src = item.image;
          document.getElementById('detail-title').textContent = item.name;
          document.getElementById('detail-desc').textContent = item.desc;
          document.getElementById('detail-price').textContent = '$' + item.price;
          modal.classList.remove('hidden');
          animateIn(modal.querySelector('.bg-gray-900'), 'animate-fadeInUp');
        }
        if (e.target.id === 'close-item-detail') {
          var modal = document.getElementById('item-detail-modal');
          if (modal) modal.classList.add('hidden');
        }
      });

      // Determine which section to show based on the URL hash, default to 'home-main'
      var hash = window.location.hash;
      if (hash && document.getElementById(hash.substring(1))) {
        showSection(hash.substring(1));
      } else {
        showSection('home-main');
      }

    });
  </script>
  <style>
    .animate-fadeIn { animation: fadeIn 0.7s cubic-bezier(.4,0,.2,1) both; }
    .animate-fadeInUp { animation: fadeInUp 0.7s cubic-bezier(.4,0,.2,1) both; }
    .animate-popIn { animation: popIn 0.5s cubic-bezier(.4,0,.2,1) both; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px);} to { opacity: 1; transform: translateY(0);} }
    @keyframes popIn { 0% { opacity: 0; transform: scale(0.7);} 80% { opacity: 1; transform: scale(1.08);} 100% { opacity: 1; transform: scale(1);} }
  </style>
</body>
</html>
  
    </body>
  </html>
